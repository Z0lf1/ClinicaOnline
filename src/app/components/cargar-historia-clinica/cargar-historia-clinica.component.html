<div class="historia-clinica-container">
  <h2>Cargar Historia Cl√≠nica</h2>

  <form (ngSubmit)="crearHistoriaClinicaPaciente()" #formHistoria="ngForm">

    <!-- Datos fijos -->
    <div class="campo">
      <label>Altura (cm)</label>
      <input type="number" name="altura" [(ngModel)]="historiaClinica.altura" required>
    </div>

    <div class="campo">
      <label>Peso (kg)</label>
      <input type="number" name="peso" [(ngModel)]="historiaClinica.peso" required>
    </div>

    <div class="campo">
      <label>Temperatura (¬∞C)</label>
      <input type="number" name="temperatura" [(ngModel)]="historiaClinica.temperatura" required>
    </div>

    <div class="campo">
      <label>Presi√≥n</label>
      <input type="text" name="presion" [(ngModel)]="historiaClinica.presion" required>
    </div>

    <div class="datos-extra">
  <h3>Datos adicionales obligatorios</h3>

  <!-- Control de rango 0‚Äì100 -->
  <div class="campo">
    <label>Grado de dolor (0 a 100%)</label>
    <input type="range" min="0" max="100" [(ngModel)]="dolor" name="dolor">
    <span>{{ dolor }}%</span>
  </div>

  <!-- Campo num√©rico -->
  <div class="campo">
    <label>D√≠as con reposo</label>
    <input type="number" min="0" [(ngModel)]="dias_reposo" name="dias_reposo">
  </div>

  <!-- Switch S√≠ / No -->
  <div class="campo">
    <label>Primera consulta</label>
    <label class="switch">
      <input type="checkbox" [(ngModel)]="primera_consulta" name="primera_consulta">
      <span class="slider"></span>
    </label>
    <span>{{ primera_consulta ? 'S√≠' : 'No' }}</span>
  </div>
</div>

    <!-- Datos din√°micos -->
    <div class="datos-dinamicos">
      <h3>Datos adicionales (m√°ximo 3)</h3>

      <div *ngFor="let item of datosDinamicosTemp; let i = index" class="dato-dinamico">
        <input type="text" placeholder="Clave" [(ngModel)]="item.clave" name="clave{{i}}" required>
        <input type="text" placeholder="Valor" [(ngModel)]="item.valor" name="valor{{i}}" required>
        <button type="button" (click)="eliminarDatoDinamico(i)">üóëÔ∏è</button>
      </div>

      <button type="button" (click)="agregarDatoDinamico()" [disabled]="datosDinamicosTemp.length >= 3">
        + Agregar dato adicional
      </button>
    </div>

    <button type="submit" [disabled]="!formHistoria.valid">Guardar Historia Cl√≠nica</button>
  </form>
</div>
